---
title: "Design"
author: "Andrew Grogan-Kaylor"
date: "6/16/2019"
output:
  bookdown::gitbook:
    highlight: haddock
    css: styles.css
    split_by: none
    config:
      download:
      - design.pdf
      - design.epub
  tint::tintPdf:
    toc: yes
    number_sections: yes
  bookdown::epub_book: default  
  revealjs::revealjs_presentation: 
    theme: default
    fig_height: 3
  html_document: 
    code_folding: hide
    css: styles.css
    fig_height: 3
    highlight: haddock
    number_sections: yes
    toc: yes
    toc_float:
      collapsed: no
      smooth_scroll: yes
  slidy_presentation:
    highlight: haddock
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE,
                      message = FALSE,
                      fig.margin = TRUE)

library(ggplot2)

library(dplyr)

library(cowplot)

```

# Color 

## Color Model

[https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/colorPaletteCheatsheet.pdf](https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/colorPaletteCheatsheet.pdf)

![color wheel](colorwheel.png)

```{r, echo=FALSE, webgl=TRUE}

# HSV Color Model

N <- 500 # number of points

hue <- runif(N, 0 , 1) # hue

saturation <- runif(N, 0 , 1) # saturation

value <- runif(N, 0 , 1) # value

color <- hsv(h = hue, s = saturation, v = value)

# plot(hue, value, col=color, pch=19,
#      main = "Draft Color Model Plot")

library(rgl) # 3D graphics

library(knitr) # explicit call to knitr

knit_hooks$set(webgl = hook_webgl) # "webhook"

plot3d(x = hue,
       y = value,
       z = saturation,
       col = color,
       size = 10,
       main = "Draft Interactive Color Model",
       phi = 90 + 45)


# library(plotly) # 3D graphics
# 
# colordata <- data.frame(hue, saturation, value, color)
# 
# plot_ly(colordata, x = ~hue,
#         y = ~value,
#         # z = ~saturation,
#         color = ~color) %>%
#   add_markers() %>%
#   layout(title = "Draft Interactive Color Model") %>%
#   hide_colorbar() %>%
#   hide_legend()

# ggplot(colordata,
#        aes(x = hue,
#            y = value,
#            color = color)) + geom_point()
```

> R can use many different color models, but often uses a #**R**ed, **G**reen, **B**lue model with the amount of each color indicated in Hexadecimal, 00 to FF, notation.

## Three Types Of Palettes

[http://colorbrewer2.org/](http://colorbrewer2.org/)

```{r}

library(RColorBrewer)

```

```{r}

display.brewer.pal(7,"Set1") # qualitative

```

```{r}

display.brewer.pal(7,"YlOrRd") # sequential

```

```{r}

display.brewer.pal(7,"Spectral") # diverging

```

```{r, fig.margin = FALSE, fig.height=6}

display.brewer.all() # all palettes

```

\newpage

## Where Do The Colors in `ggplot` Come From?

Equally spaced around the color wheel.

```{r}

library(scales)

show_col(hue_pal()(4))

```

## Many Many Color Options

e.g. Viridis, which is designed to be *perceptually uniform*.

```{r, echo=FALSE}

library(ggplot2)

x <- seq(1,10) # sequence 1 to 10

ggplot(data = NULL, 
       aes(x = x,
           fill = factor(x))) + 
  geom_bar() + 
  scale_fill_viridis_d(name = "color")

```


# Fonts 

## Three Major Types of Fonts

* <font face="Arial">San Serif</font> e.g. Arial, Helvetica
* <font face="Times New Roman">Serif Fonts</font> e.g. <font face="Times New Roman">Times New Roman</font>
* `Monospaced Fonts` e.g. `Courier` (good for code).

## Font Rules

<font face="Comic Sans MS">Don't</font> have `too many` <font face="Times New Roman">fonts!</font>

<font face="Impact">Interesting Font for Heading</font>

Standard <font face="Arial">San Serif</font> or <font face="Times New Roman">Serif Fonts</font> for text.

# Cognition

## Dimensions of Data

```{r, fig.height=8, echo=FALSE}

data(iris) # iris data set

names(iris) # dimensions of the data

p0<- ggplot(iris,
       aes(x = Petal.Length,
           y = Petal.Width)) +
  geom_point() + 
  labs(title = "Minimal Philosophy",
       subtitle="Every Bit of Extra Ink Matters",
       caption = "Only two dimensions of data: No use of color.") 

p_minimal <- ggplot(iris,
       aes(x = Petal.Length,
           y = Petal.Width,
           color = Species)) +
  geom_point() + 
  scale_color_viridis_d() + 
  labs(title = "Minimal Philosophy",
       subtitle="Every Bit of Extra Ink Matters",
       caption = "We only use color because \nwe have 3 dimensions of data.") 

p_maximal <- ggplot(iris,
       aes(x = Petal.Length,
           y = Petal.Width,
           color = Species,
           shape = Species)) +
  geom_point(size = 2) + 
  scale_color_viridis_d() + 
  labs(title = "Maximal Philosophy",
       subtitle="Use Ink Liberally for Accessibility and Communication") +
  facet_wrap(~Species)

plot_grid(p0, p_minimal, p_maximal, nrow = 3)

```

## Some Geometries Are Easier To Understand Than Others

![](Rauser-most-important-thing.png)

